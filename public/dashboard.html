<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <h1>User Dashboard</h1>
    <div class="user-icon" onclick="toggleUserDetails()">üë§</div>
</header>

<main>
    <div class="dashboard">
        <h2>Welcome, <span id="user-name">[User's Name]</span></h2>
        <div class="savings">
            <h3>Your Savings: Ksh<span id="user-savings">[Amount]</span></h3>
        </div>
        <button class="request-loan-btn" onclick="toggleLoanRequestForm()">Request Loan</button>

        <button class="statement-btn" onclick="generatePDF()">Generate Statement</button>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <div class="user-details" id="user-details" style="display:none;">
        <h2>User Details</h2>
        <form id="user-form" onsubmit="saveUserDetails(event)" action="/api/user/update" method="POST">

            <div class="input-group">
                <label for="full-name">Full Name</label>
                <input type="text" id="full-name" name="full-name" required>
            </div>
            <div class="input-group">
                <label for="id-number">ID Number</label>
                <input type="text" id="id-number" name="id-number" required>
            </div>
            <div class="input-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" required>
            </div>
            <button type="submit">Save Changes</button>
        </form>
    </div>

    <div class="loan-request-form" id="loan-request-form" style="display:none;">
        <h2>Request Loan</h2>
     

        <form id="loan-form" onsubmit="submitLoanRequest(event)" action="/api/loans/request" method="POST">

            <div class="input-group">
                <label for="loan-full-name">Full Name</label>
                <input type="text" id="loan-full-name" name="loan-full-name" required>
            </div>
            <div class="input-group">
                <label for="loan-id-number">ID Number</label>
                <input type="text" id="loan-id-number" name="loan-id-number" required>
            </div>
            <div class="input-group">
                <label for="loan-location">Location</label>
                <input type="text" id="loan-location" name="loan-location" required>
            </div>
            <div class="input-group">
                <label for="loan-amount">Loan Amount Ksh</label>
                <input type="number" id="loan-amount" name="loan-amount" required>
            </div>
            <div class="input-group">
                <label for="repay-period">Repay Period (months)</label>
                <input type="number" id="repay-period" name="repay-period" required>
            </div>
            <button type="submit">Submit Loan Request</button>
        </form>
    </div>
</main>

<footer>
    <p>Made with <span class="heart">‚ù§</span> by Amina Omar | &copy; 2024 E-CHAMA Management System</p>
</footer>

<script src="script.js"></script>
</body>
</html>
